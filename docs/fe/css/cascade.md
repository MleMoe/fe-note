# 层叠、优先级与继承

## 前言

在某些时候，在做一个项目过程中你会发现一些应该产生效果的样式没有生效。通常的原因是你创建了两个应用于同一个元素的规则。cascade 决定在发生冲突的时候应该使用哪条规则。这里也有继承的概念，也就是在默认情况下，一些 css 属性继承当前元素的父元素上设置的值，有些则不继承。这也可能导致一些和期望不同的结果。

css 规则的顺序很重要；当应用两条同级别的规则到一个元素的时候，写在后面的就是实际使用的规则。

浏览器根据优先级，来决定当多个规则/有不同选择器，对应相同的元素的时候，需要使用哪个规则。

继承也需要在上下文中去理解 —— 一些设置在父元素上的 css 属性是可以被子元素继承的（例如 color ），有些则不能（例如 width）。

层叠、优先级和继承，这三个概念一起来控制 css 规则应用于哪个元素。

## 层叠

层叠如何定义在不止一个元素的时候怎么应用 css 规则。有三个因素需要考虑，根据重要性排序如下，前面的更重要：重要程度、优先级、资源顺序。

- 资源顺序
  我们已经看到了顺序对于层叠的重要性。如果你有超过一条规则，而且都是相同的权重，那么最后面的规则会应用。可以理解为后面的规则覆盖前面的规则，直到最后一个开始设置样式。

## 优先级

## 继承

哪些属性属于默认继承很大程度上是由常识决定的。像 widths (上面提到的), margins, padding, 和 borders 不会被继承。如果 borders 可以被继承，每个列表和列表项都会获得一个边框 — 可能就不是我们想要的结果。

## 控制继承

CSS 为控制继承提供了四个特殊的通用属性值。每个 css 属性都接收这些值。

- inherit
  设置该属性会使子元素属性和父元素相同。实际上，就是 "开启继承".
- initial
  设置属性值和浏览器默认样式相同。如果浏览器默认样式中未设置且该属性是自然继承的，那么会设置为 inherit 。
- unset
  将属性重置为自然值，也就是如果属性是自然继承那么就是 inherit，否则和 initial 一样
- revert
  只有很少的浏览器支持。

CSS 的 shorthand 属性 all 可以用于同时将这些继承值中的一个应用于（几乎）所有属性。它的值可以是其中任意一个(inherit, initial, unset, or revert)。
